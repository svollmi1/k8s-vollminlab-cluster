apiVersion: v1
kind: ConfigMap
metadata:
  name: longhorn-values
  namespace: longhorn-system
  labels:
    app: longhorn
    env: production
    category: storage
data:
  values.yaml: |
    defaultSettings:
      defaultReplicaCount: 3
      defaultDataPath: /var/lib/longhorn
      taintToleration: "dmz=true:NoSchedule;dmz=true:NoExecute"
    longhornManager:
      podLabels:
        app: longhorn-manager
        env: production
        category: storage
      tolerations:
        - key: "dmz"
          operator: "Equal"
          value: "true"
          effect: "NoSchedule"
        - key: "dmz"
          operator: "Equal"
          value: "true"
          effect: "NoExecute"
    # longhornDriver covers engine-image and driver pods
    longhornDriver:
      podLabels:
        app: longhorn-driver
        env: production
        category: storage
      tolerations:
        - key: "dmz"
          operator: "Equal"
          value: "true"
          effect: "NoSchedule"
        - key: "dmz"
          operator: "Equal"
          value: "true"
          effect: "NoExecute"
    csi:
      attacher:
        podLabels:
          app: longhorn-csi-attacher
          env: production
          category: storage
      provisioner:
        podLabels:
          app: longhorn-csi-provisioner
          env: production
          category: storage
      resizer:
        podLabels:
          app: longhorn-csi-resizer
          env: production
          category: storage
      snapshotter:
        podLabels:
          app: longhorn-csi-snapshotter
          env: production
          category: storage
      plugin:
        podLabels:
          app: longhorn-csi-plugin
          env: production
          category: storage
        tolerations:
          - key: "dmz"
            operator: "Equal"
            value: "true"
            effect: "NoSchedule"
          - key: "dmz"
            operator: "Equal"
            value: "true"
            effect: "NoExecute"
    ui:
      podLabels:
        app: longhorn-ui
        env: production
        category: storage
    supportBundleKit:
      podLabels:
        app: longhorn-support-bundle-kit
        env: production
        category: storage